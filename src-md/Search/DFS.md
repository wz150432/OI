# 广度优先搜索（BFS）基础概念


## 一、定义与核心思想
**广度优先搜索（Breadth-First Search，简称BFS** 是一种图与树的遍历算法，其核心思想是“**逐层扩散**”：从起始节点出发，优先访问起始节点的所有邻接节点（第一层），再依次访问这些邻接节点的所有未访问邻接节点（第二层），以此类推，直至遍历完所有可达节点或找到目标节点。

这种“先宽后深”的特性，使其区别于深度优先搜索（DFS）的“一条路走到黑”模式。

## 二、核心组成要素

1. **队列（Queue）** 
   BFS的核心数据结构，用于存储待访问的节点。遵循“先进先出（FIFO）”原则，确保节点按层次顺序被处理：先进入队列的节点（上层节点）优先被访问，其邻接节点（下层节点）后进入队列。

2. **访问标记（Visited）** 
   用于记录节点是否已被访问的标记结构（如数组、哈希表等）。作用是避免节点被重复访问，防止循环遍历或冗余计算，保证算法效率。

3. **状态表示** 
   对节点信息的描述，需能唯一标识节点的位置或属性。例如，在网格中可表示为坐标 $(x, y)$，在图中可表示为节点编号，复杂场景下可能包含附加信息（如步数、状态参数等）。

## 三、基本流程

1. **初始化**  
   - 将起始节点加入队列，并标记为“已访问”；  
   - 初始化访问标记结构，记录起始节点的访问状态。

2. **循环遍历** 
   当队列不为空时，重复以下操作：  
   - 取出队列头部的节点（当前节点）；  
   - 遍历当前节点的所有邻接节点；  
   - 对每个邻接节点，若未越界（如网格场景）、未被访问且符合访问条件（如非障碍），则将其加入队列，并标记为“已访问”。

3. **终止条件**  
   - 找到目标节点，返回结果（如最短路径长度）；  
   - 队列为空，说明所有可达节点已遍历，目标节点不可达。


## 四、关键特性
1. **最短路径保证** 
   在无权图（或边权相等的图）中，BFS 首次到达目标节点时，所经过的路径一定是最短路径（以边数计），这是由其“逐层扩散”特性决定的。

2. **完整性** 
   若目标节点可达，BFS 一定能找到它；若不可达，也能通过队列空的状态判断。

3. **时间复杂度** 
   设图中节点数为 $V$，边数为 $E$，时间复杂度为$O(V+E)$，取决于遍历的节点和边的数量。

4. **空间复杂度** 
   主要取决于队列存储的节点数，最坏情况下为$O(V)$（所有节点同时入队）。

## 五、适用场景

- 无权图或边权相等的图中求最短路径；  
- 树或图的层次遍历（如二叉树的层序遍历）；  
- 寻找某一节点的所有可达节点；  
- 解决“扩散”类问题（如多源点同步扩散的最短距离计算）。



## 例题

[P1443](https://www.luogu.com.cn/problem/P1443)

[P1162](https://www.luogu.com.cn/problem/P1162)